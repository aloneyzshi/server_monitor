<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>

    <script src="/static/js/echarts.js"></script>
    <script src="/static/js/dark.js"></script>

</head>
<body>

<div id="cpu" align="left" style="width: 100%;height:260px;"></div>

<script type="text/javascript">
        // 基于准备好的dom，初始化echarts实例
        var myChart = echarts.init(document.getElementById('cpu'),'dark');

        // 指定图表的配置项和数据
        var option = {
            title: {
                text: '节点CPU使用率实时监控'
            },
            tooltip: {
                trigger: 'axis',
                axisPointer: {
                    type: 'cross',
                    label: {
                        backgroundColor: '#6a7985'
                    }
                }
            },
            legend: {
                data:[ 'PERCENT(%)', 'IDLE(%)', 'SYSTEM(%)', 'USER(%)']
            },
            toolbox: {
                show: true,
                feature: {
                    magicType: {type: ['line', 'bar']},
                    restore: {},
                    saveAsImage: {}
                }
            },
            dataZoom: [
                {
                    type: 'inside',
                }
            ],
            grid: {
                left: '3%',
                right: '4%',
                bottom: '3%',
                containLabel: true
            },
            xAxis: [
                {
                    type: 'category',
                    name: '时间',
                    nameLocation: 'end',
                    boundaryGap: false,
                    nameGap: 40,
                    data: {{ timelist|safe }}

                }
            ],
            yAxis: [
                {
                    type: 'value',
                    axisLabel: {
                        formatter: '{value} %'
                    },
                     name: 'CPU使用率(%)'
                }
            ],
            series: [

                {
                    name: 'PERCENT(%)',
                    type: 'line',
                    <!-- areaStyle: {normal: {}}, -->
                    data: {{ data_percent_list }}
                },
                {
                    name: 'IDLE(%)',
                    type: 'line',
                    <!-- areaStyle: {normal: {}}, -->
                    data: {{ data_idle_list }}
                },
                {
                    name: 'SYSTEM(%)',
                    type: 'line',
                    <!-- areaStyle: {normal: {}}, -->
                    data: {{ data_system_list }}
                },
                {
                    name: 'USER(%)',
                    type: 'line',
                    <!-- areaStyle: {normal: {}}, -->
                    data:  {{ data_user_list }}
                }
            ]
        };

        // 使用刚指定的配置项和数据显示图表。
        myChart.setOption(option);


</script>

<br>
<br>
<div id="load" align="left" style="width: 100%;height:220px;"></div>
<script type="text/javascript">
        // 基于准备好的dom，初始化echarts实例
        var myChartLoad = echarts.init(document.getElementById('load'), 'dark');
        // 指定图表的配置项和数据
        var option = {
            title: {
                text: '节点平均负载值实时监控'
            },
            tooltip: {
                trigger: 'axis',
                axisPointer: {
                    type: 'cross',
                    label: {
                        backgroundColor: '#6a7985'
                    }
                }
            },
            legend: {
                data:['平均负载值']
            },
            toolbox: {
                show: true,
                feature: {
                    magicType: {type: ['line', 'bar']},
                    restore: {},
                    saveAsImage: {}
                }
            },
            dataZoom: [
                {
                    type: 'inside',
                    start: 0,
                    end: 100,
                 }
            ],
            grid: {
                left: '3%',
                right: '4%',
                bottom: '3%',
                containLabel: true
            },
            xAxis: [
                {
                    type: 'category',
                    name: '时间',
                    nameLocation: 'end',
                    boundaryGap: false,
                    nameGap: 40,
                    data: ['20180421-02:24:50', '20180421-02:24:51', '20180421-02:24:52', '20180421-02:24:53', '20180421-02:24:54', '20180421-02:24:55', '20180421-02:24:56', '20180421-02:24:57', '20180421-02:24:58', '20180421-02:24:59', '20180421-02:25:00', '20180421-02:25:01', '20180421-02:25:02', '20180421-02:25:03', '20180421-02:25:04', '20180421-02:25:05', '20180421-02:25:06', '20180421-02:25:07', '20180421-02:25:08', '20180421-02:25:09', '20180421-02:25:10', '20180421-02:25:11', '20180421-02:25:12', '20180421-02:25:13', '20180421-02:25:14', '20180421-02:25:15', '20180421-02:25:16', '20180421-02:25:17', '20180421-02:25:18', '20180421-02:25:19']

                }
            ],
            yAxis: [
                {
                    type: 'value',
                    name: '平均负载值'
                }
            ],
            series: [
                {
                    name: '平均负载值',
                    type: 'line',
                    <!-- areaStyle: {normal: {}}, -->
                    data: [2.92, 1.04, 2.33, 1.25, 2.66, 1.8, 2.78, 2.75, 1.84, 1.33, 1.21, 2.6, 1.4, 2.51, 2.06, 1.68, 2.04, 2.83, 1.69, 2.47, 2.18, 1.11, 1.83, 2.16, 1.68, 1.25, 1.54, 1.01, 1.73, 2.37]

                }
            ]
        };

        // 使用刚指定的配置项和数据显示图表。
        myChartLoad.setOption(option);


</script>


</body>
</html>